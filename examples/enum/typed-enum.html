<html>

<head>
    <style>
        label {
            display: inline-block;
            width: 10em;
        }
    </style>
</head>

<body>
    <a href="../index.html">All Examples</a>

    <h1>Typed Enum Type in Javascript</h1>
    <p>View the console log to see an example.</p>
    <p>More details in my <a href="https://devrelief.net/592/javascript-enum">blog</a></p>

</body>
<script type="module">
    import { Enum } from './enum.js';

    class MyEnumType extends Enum {
        constructor(name) {
            super(name);
        }
    }

    class AnotherEnumType extends Enum {
        static _values = new Map();
        
        static valueOf(name) { return AnotherEnumType._values.get(name); }

        static FIRST = new AnotherEnumType("first");
        static SECOND = new AnotherEnumType("second");
        static THIRD = new AnotherEnumType("third");

        constructor(name) {
            super(name);
            AnotherEnumType._values.set(name,this);
        }
    }


    const MY_ENUM = {
        FIRST: new MyEnumType("first"),
        SECOND: new MyEnumType("second"),
        THIRD: new MyEnumType("third")
    };



    function isEqualOperator(test, a, b) {
        if (a === b) {
            console.log(`${test}:  ${a} === ${b}`);
        } else {
            console.log(`${test}:  ${a} != ${b}`);
        }
    }

    const valA = MY_ENUM.FIRST;
    const valB = MY_ENUM.SECOND;
    const valC = MY_ENUM.THIRD;
    const valD = MY_ENUM.FIRST;

    const anotherA = AnotherEnumType.FIRST;
    const anotherB = AnotherEnumType.SECOND;
    const anotherC = AnotherEnumType.THIRD;

    isEqualOperator("valA === valA", valA, valA);
    isEqualOperator("valB === valB", valB, valB);
    isEqualOperator("valC === valC", valC, valC);


    isEqualOperator("anotherA === anotherA", anotherA, anotherA);
    isEqualOperator("anotherA === anotherB", anotherA, anotherB);
    isEqualOperator("anotherA === anotherC", anotherA, anotherC);

    isEqualOperator("valA === anotherA", valA, anotherA);
    isEqualOperator("valA === anotherB", valA, anotherB);
    isEqualOperator("valA === anotherC", valA, anotherC);


    if (valA instanceof Enum) {
        console.log("valA is an Enum");
    } else {
        console.log("valA is not an Enum");
    }

    if (valA instanceof MyEnumType) {
        console.log("valA is an MyEnumType");
    } else {
        console.log("valA is not an MyEnumType");
    }

    if (valA instanceof AnotherEnumType) {
        console.log("valA is an AnotherEnumType");
    } else {
        console.log("valA is not an AnotherEnumType");
    }


    if (anotherA instanceof Enum) {
        console.log("anotherA is an Enum");
    } else {
        console.log("anotherA is not an Enum");
    }

    if (anotherA instanceof MyEnumType) {
        console.log("anotherA is an MyEnumType");
    } else {
        console.log("anotherA is not an MyEnumType");
    }

    if (anotherA instanceof AnotherEnumType) {
        console.log("anotherA is an AnotherEnumType");
    } else {
        console.log("anotherA is not an AnotherEnumType");
    }

    const valueOfThird = AnotherEnumType.valueOf("third");
    console.log(`valueof('third') = ${valueOfThird}`);




</script>

</html>