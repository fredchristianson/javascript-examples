<html>

<head>
    <style>
        label {
            display: inline-block;
            width: 10em;
        }
    </style>
</head>

<body>
    <a href="../index.html">All Examples</a>
    <h1>Integer Enum Type in Javascript</h1>
    <p>View the console log to see and example.</p>
</body>
<script type="module">
    import { IntEnum } from './enum.js';

    const MY_INT_ENUM = {
        FIRST: new IntEnum(1),
        SECOND: new IntEnum(2),
        THIRD: new IntEnum(1)
    }



    function isEqualFunction(test, a, b) {
        if (a.equals(b)) {
            console.log(`${test}:  ${a} == ${b}`);
        } else {
            console.log(`${test}:  ${a} != ${b}`);
        }
    }

    function isEqualOperator(test, a, b) {
        if (a == b) {
            console.log(`${test}:  ${a} == ${b}`);
        } else {
            console.log(`${test}:  ${a} != ${b}`);
        }
    }

    function isTripleEqualOperator(test, a, b) {
        if (a === b) {
            console.log(`${test}:  ${a} === ${b}`);
        } else {
            console.log(`${test}:  ${a} != ${b}`);
        }
    }

    const valA = MY_INT_ENUM.FIRST;
    const valB = MY_INT_ENUM.SECOND;
    const valC = MY_INT_ENUM.THIRD;
    const valD = MY_INT_ENUM.FIRST;  // same as valA

    isEqualFunction("valA.equal(valA)", valA, valA);
    isEqualFunction("valA.equal(valB)", valA, valB);
    isEqualFunction("valA.equal(valC)", valA, valC);
    isEqualFunction("valA.equal(valD)", valA, valD);

    isTripleEqualOperator("valA === valA", valA, valA);
    isTripleEqualOperator("valA === valB", valA, valB);
    isTripleEqualOperator("valA === valC", valA, valC);
    isTripleEqualOperator("valA === valD", valA, valD);

    isEqualOperator("valA == valA", valA, valA);
    isEqualOperator("valA == valB", valA, valB);
    isEqualOperator("valA == valC", valA, valC);
    isEqualOperator("valA == valD", valA, valD);

    if (valA instanceof IntEnum) {
        console.log("valA is an IntEnum");
    } else {
        console.log("valA is not an IntEnum");
    }

    class MyFlagEnum extends IntEnum {
        constructor(val) {
            super(val);
        }
    }

    const MY_FLAG_ENUM = {
        FIRST: new IntEnum(0x0001),
        SECOND: new IntEnum(0x0002),
        THIRD: new IntEnum(0x0004),
        FOURTH: new IntEnum(0x0001)
    }

    const flagA = MY_FLAG_ENUM.FIRST;
    const flagB = MY_FLAG_ENUM.SECOND;
    const flagC = MY_FLAG_ENUM.THIRD;
    const flagD = MY_FLAG_ENUM.FOURTH;  // same value as flagA but different enum

    isEqualFunction("flagA.equal(flagA)", flagA, flagA);
    isEqualFunction("flagA.equal(flagB)", flagA, flagB);
    isEqualFunction("flagA.equal(flagC)", flagA, flagC);
    isEqualFunction("flagA.equal(flagD)", flagA, flagD);

    isTripleEqualOperator("flagA === flagA", flagA, flagA);
    isTripleEqualOperator("flagA === flagB", flagA, flagB);
    isTripleEqualOperator("flagA === flagC", flagA, flagC);
    isTripleEqualOperator("flagA === flagD", flagA, flagD);

    console.log(`flagA | flagB: ${flagA.Value | flagB.Value}`);
    console.log(`flagC | flagB: ${flagC.Value | flagB.Value}`);
    console.log(`flagD | flagB: ${flagD.Value | flagB.Value}`);
</script>

</html>